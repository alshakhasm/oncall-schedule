@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--bg: #f6f8fb;
	--card: #ffffff;
	--accent: #7c3aed; /* estheric-500 */
	--accent-strong: #4c1d95; /* estheric-800 */
	--accent-warn: #ff6b6b;
}

body { font-family: 'Inter', ui-sans-serif, system-ui; background: var(--bg); color: #0f172a }

.card { background: var(--card); box-shadow: 0 6px 18px rgba(46,16,101,0.06); border-radius: 8px }

.muted { color: #6b7280 }

.swatch {
	width: 0.75rem;
	height: 0.75rem;
	border-radius: 9999px;
	border: 2px solid rgba(255,255,255,0.6);
	box-shadow: 0 1px 0 rgba(0,0,0,0.06);
}

.drag-over { box-shadow: 0 8px 20px rgba(0,0,0,0.08); transform: translateY(-2px); border-color: rgba(124,58,237,0.9) }

/* screen-reader only */
.sr-only { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap }

.month-anchor { border: 2px solid rgba(124,58,237,0.12); background: linear-gradient(90deg, rgba(124,58,237,0.06), rgba(124,58,237,0.02)); }

.month-anchor { outline: 3px solid rgba(124,58,237,0.12); background-image: linear-gradient(90deg, rgba(124,58,237,0.06), transparent); }

.topbar { display: flex; align-items: center; padding: 8px; gap: 12px }
.tab { background: transparent; border: 1px solid rgba(15,23,42,0.06); padding: 6px 10px; border-radius: 6px; cursor: pointer }
.tab-selected { background: var(--accent); color: white; border-color: var(--accent-strong) }

/* compact 3-month view styles */
.compact-months { align-items: flex-start }
.mini-month { width: 240px; padding: 6px }
.mini-month .text-sm { font-size: 13px }
.mini-day { height: 38px; display: flex; flex-direction: column; align-items: flex-start; padding: 4px }
.text-xxs { font-size: 10px }

@media (max-width: 768px) {
	.compact-months { flex-direction: column }
	.mini-month { width: 100% }
}

/* Tooltip for compact mini-days */
[data-tooltip]:hover::after, [data-tooltip]:focus::after {
	content: attr(data-tooltip);
	position: absolute;
	background: rgba(15,23,42,0.95);
	color: white;
	padding: 6px 8px;
	border-radius: 6px;
	font-size: 12px;
	transform: translateY(-110%);
	white-space: nowrap;
	z-index: 40;
}

.mini-month { padding: 6px }
.mini-day { height: 36px; gap: 2px }
.compact-months { gap: 10px }

/* consistent day number placement */
.day-number { position: absolute; top: 8px; left: 12px; z-index: 20 }


/* compact-specific oncall pill sizing */
.compact-months .oncall-bar { height: 21px; border-radius: 10px; opacity: 0.85; transform: none; display: flex; align-items: center; justify-content: center; }
.compact-months .oncall-bar .oncall-label { font-size: 12px; padding: 0 8px; line-height: 1; max-width: 100%; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; color: rgba(255,255,255,0.95); }

/* full-size oncall bars (default) */
.oncall-bar { height: 27px; border-radius: 12px; opacity: 0.9; transform: none; display: flex; align-items: center; justify-content: center; }
.oncall-bar .oncall-label { font-size: 14px; padding: 0 12px; line-height: 1; max-width: 100%; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; color: rgba(255,255,255,0.95); }

/* Ensure oncall-bar visually contrasts over white day cells */
.oncall-bar { box-shadow: 0 4px 10px rgba(12,12,18,0.12); }

/* overlay stacking to ensure pills sit above day cells */
.oncall-overlay { position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 50; pointer-events: none; display: flex; align-items: center; padding: 0 }
.oncall-overlay .oncall-bar { z-index: 60; pointer-events: auto }
.oncall-bar { pointer-events: auto }

/* overlay grid that aligns to seven day columns and matches gaps */
.overlay-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem; align-items: center; padding: 0; width: 100%; height: 100% }

/* allow overlay to escape row clipping */
.overlay-grid, .oncall-overlay { overflow: visible }
.relative[role="row"] { overflow: visible }

/* in-cell pill styling */
.in-cell-pill { position: absolute; left: 10px; right: 10px; bottom: 8px; height: 24px; border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 8px rgba(12,12,18,0.08); color: rgba(255,255,255,0.95); padding: 0 10px }
.in-cell-pill .oncall-label { font-size: 13px; line-height: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; width: 100% }
.mini-month .in-cell-pill { height: 20px; border-radius: 10px; bottom: 6px }



