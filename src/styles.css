@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--bg: #f6f8fb;
	--card: #ffffff;
	--accent: #7c3aed; /* estheric-500 */
	--accent-strong: #4c1d95; /* estheric-800 */
	--accent-warn: #ff6b6b;
	--pill-font: 14px;
	--pill-padding-x: 12px;
}

body { font-family: 'Inter', ui-sans-serif, system-ui; background: var(--bg); color: #0f172a }

.card { background: var(--card); box-shadow: 0 6px 18px rgba(46,16,101,0.06); border-radius: 8px }

.muted { color: #6b7280 }

.swatch {
	width: 0.75rem;
	height: 0.75rem;
	border-radius: 9999px;
	border: 2px solid rgba(255,255,255,0.6);
	box-shadow: 0 1px 0 rgba(0,0,0,0.06);
}

.drag-over { box-shadow: 0 8px 20px rgba(0,0,0,0.08); transform: translateY(-2px); border-color: rgba(124,58,237,0.9) }

/* screen-reader only */
.sr-only { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap }

.month-anchor { border: 2px solid rgba(124,58,237,0.12); background: linear-gradient(90deg, rgba(124,58,237,0.06), rgba(124,58,237,0.02)); }

.month-anchor { outline: 3px solid rgba(124,58,237,0.12); background-image: linear-gradient(90deg, rgba(124,58,237,0.06), transparent); }

.topbar { display: flex; align-items: center; padding: 8px; gap: 12px }
.tab { background: transparent; border: 1px solid rgba(15,23,42,0.06); padding: 6px 10px; border-radius: 6px; cursor: pointer }
.tab-selected { background: var(--accent); color: white; border-color: var(--accent-strong) }

.nav-btn { background: transparent; border: 1px solid rgba(15,23,42,0.06); padding: 6px 8px; border-radius: 6px; cursor: pointer }
.nav-btn:hover { background: rgba(124,58,237,0.04) }
.topbar .font-semibold { font-size: 14px }

/* compact 3-month view styles */
.compact-months { align-items: flex-start }
.mini-month { width: 300px; padding: 8px }
.mini-month .text-sm { font-size: 15px }
.mini-day { height: 68px; display: flex; flex-direction: column; align-items: flex-start; padding: 8px }
.text-xxs { font-size: 11px }

@media (max-width: 768px) {
	.compact-months { flex-direction: column }
	.mini-month { width: 100% }
}

/* Responsive day heights */
@media (max-width: 640px) {
	.mini-day { height: 44px !important; gap: 3px }
	.card[role="gridcell"] { min-height: 44px }
	.in-cell-pill { height: 20px; bottom: 6px }
	:root { --pill-font: 12px; --pill-padding-x: 10px }
}

@media (max-width: 420px) {
	.mini-day { height: 40px !important; gap: 2px }
	.card[role="gridcell"] { min-height: 40px }
	.in-cell-pill { height: 18px; bottom: 5px }
	:root { --pill-font: 11px; --pill-padding-x: 8px }
}

/* Tooltip for compact mini-days */
[data-tooltip]:hover::after, [data-tooltip]:focus::after {
	content: attr(data-tooltip);
	position: absolute;
	background: rgba(15,23,42,0.95);
	color: white;
	padding: 6px 8px;
	border-radius: 6px;
	font-size: 12px;
	transform: translateY(-110%);
	white-space: nowrap;
	z-index: 40;
}

.mini-month { padding: 8px }
.mini-day { height: 68px; gap: 6px }
.card[role="gridcell"] { min-height: 56px; display: flex; flex-direction: column; justify-content: flex-start }
.compact-months { gap: 16px }

/* consistent day number placement */
.day-number { position: absolute; top: 8px; left: 12px; z-index: 20 }


/* compact-specific oncall pill sizing */
.compact-months .oncall-bar { height: 24px; border-radius: 12px; opacity: 0.9; transform: none; display: flex; align-items: center; justify-content: center; }
.compact-months .oncall-bar .oncall-label { font-size: calc(var(--pill-font) - 1px); padding: 0 calc(var(--pill-padding-x) - 2px); line-height: 1; max-width: 100%; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; color: rgba(255,255,255,0.95); }

/* full-size oncall bars (default) */
.oncall-bar { height: 27px; border-radius: 12px; opacity: 0.9; transform: none; display: flex; align-items: center; justify-content: center; }
.oncall-bar .oncall-label { font-size: var(--pill-font); padding: 0 var(--pill-padding-x); line-height: 1; max-width: 100%; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; color: rgba(255,255,255,0.95); }

/* Ensure oncall-bar visually contrasts over white day cells */
.oncall-bar { box-shadow: 0 4px 10px rgba(12,12,18,0.12); }

/* overlay stacking to ensure pills sit above day cells */
.oncall-overlay { position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 50; pointer-events: none; display: flex; align-items: flex-end; padding: 0 }
.oncall-overlay .oncall-bar { z-index: 60; pointer-events: auto }
.oncall-bar { pointer-events: auto }

/* overlay grid that aligns to seven day columns and matches gaps */
.overlay-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem; align-items: end; padding: 0 0.5rem; width: 100%; height: 100% }

/* allow overlay to escape row clipping */
.overlay-grid, .oncall-overlay { overflow: visible }
.relative[role="row"] { overflow: visible }

/* in-cell pill styling */
.in-cell-pill { position: absolute; left: 10px; right: 10px; bottom: 8px; height: 24px; border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 8px rgba(12,12,18,0.08); color: rgba(255,255,255,0.95); padding: 0 10px }
.in-cell-pill .oncall-label { font-size: calc(var(--pill-font) - 1px); line-height: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; width: 100% }
.mini-month .in-cell-pill { height: 20px; border-radius: 10px; bottom: 6px }

/* Holiday cell visual treatment (red highlight) */
.holiday { background: linear-gradient(180deg, #fff1f2, #fee2e2); border-color: rgba(239,68,68,0.08); }
.holiday .day-number { color: #7f1d1d }
.holiday .in-cell-pill { opacity: 0.75 }
.holiday[data-has-assignment="true"] .in-cell-pill { opacity: 0.9 }

/* Today highlight */
.today { outline: 2px solid #2563eb; outline-offset: 0; position: relative }
.today::after { content: ""; position: absolute; inset: 0; box-shadow: 0 0 0 2px rgba(37,99,235,0.35); border-radius: 6px; pointer-events: none }

/* 6‑month (3×2) compact layout */
.compact-months.six-months {
  display: grid;
  grid-template-columns: repeat(3, minmax(280px, 1fr));
  gap: 16px;
  align-items: start;
}

/* Ensure mini‑months fill their grid columns in 6‑month mode */
.compact-months.six-months .mini-month {
  width: 100%;
  max-width: 100%;
}

/* Responsive: 2×3 under 980px */
@media (max-width: 980px) {
  .compact-months.six-months {
    grid-template-columns: repeat(2, minmax(260px, 1fr));
  }
}

/* Responsive: 1×6 under 640px */
@media (max-width: 640px) {
  .compact-months.six-months {
    grid-template-columns: 1fr;
  }
}




